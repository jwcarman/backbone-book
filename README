Source code as I work my way through this book on Safari Online:

http://shop.oreilly.com/product/0636920025344.do